# 基础配置指南

本指南将帮助您完成 XuanWu OCR 的基础配置，让程序能够正常运行并满足您的使用需求。

## 🚀 快速配置

### 第一步：API密钥配置

1. **获取API密钥**
   - 访问 [百度智能云](https://cloud.baidu.com)
   - 注册并登录账号
   - 创建"文字识别"应用
   - 获取 API Key 和 Secret Key

2. **配置API密钥**
   - 启动程序
   - 点击菜单栏 **设置 → API密钥设置**
   - 填入 API Key 和 Secret Key
   - 选择OCR识别版本：
     - **general**: 标准版（推荐新手）
     - **high_accuracy**: 高精度版
     - **handwriting**: 手写识别版

3. **测试连接**
   - 点击"测试连接"按钮
   - 查看状态面板的API状态
   - 确认显示"连接正常"

### 第二步：基本参数设置

1. **识别参数**
   - **识别间隔**: 设置为1-2秒（平衡性能和资源消耗）
   - **匹配模式**: 选择"精确匹配"开始使用
   - **模糊阈值**: 如果使用模糊匹配，设置为0.8

2. **通知设置**
   - **桌面通知**: 启用系统通知
   - **声音提醒**: 选择提示音
   - **邮件通知**: 配置邮件服务器（可选）

### 第三步：界面配置

1. **主题选择**
   - **浅色主题**: 适合日间使用
   - **深色主题**: 适合夜间使用，护眼
   - **自动切换**: 根据系统时间自动切换

2. **窗口设置**
   - **记住大小**: 记住窗口大小和位置
   - **最小化到托盘**: 关闭窗口时最小化到系统托盘
   - **开机启动**: 设置开机自动启动（可选）

## 🎯 详细配置说明

### OCR引擎配置

#### 百度OCR配置
```
API Key: [您的百度API Key]
Secret Key: [您的百度Secret Key]
识别版本: general（标准版）
调用频率: 1次/秒（默认）
```

#### 腾讯OCR配置（可选）
```
SecretId: [您的腾讯SecretId]
SecretKey: [您的腾讯SecretKey]
Region: ap-beijing（北京区域）
```

#### 阿里OCR配置（可选）
```
AccessKeyId: [您的阿里AccessKeyId]
AccessKeySecret: [您的阿里AccessKeySecret]
Region: cn-shanghai（上海区域）
```

### 识别参数详解

#### 识别间隔设置
- **0.1-0.5秒**: 极高频率，适合实时监控，但消耗资源大
- **1-2秒**: 推荐设置，平衡性能和实时性
- **3-5秒**: 低频监控，适合长期监控场景
- **10秒以上**: 极低频，适合周期性检查

#### 匹配模式说明
- **精确匹配**: 识别文字必须与关键词完全相同
  - 优点：准确率高，误匹配少
  - 缺点：对OCR错误敏感
  - 适用：固定格式的文字

- **包含匹配**: 识别文字包含关键词即可
  - 优点：灵活性高，容错性好
  - 缺点：可能产生误匹配
  - 适用：变长文本，部分匹配场景

- **模糊匹配**: 基于相似度算法匹配
  - 优点：容错能力最强，适合OCR错误
  - 缺点：计算开销大，可能误匹配
  - 适用：OCR识别质量不稳定的场景

### 关键词管理

#### 添加关键词
1. **单个添加**
   - 在关键词面板输入框中输入文字
   - 按回车键或点击"添加"按钮
   - 关键词会自动保存到列表

2. **批量导入**
   - 点击"导入"按钮
   - 选择包含关键词的文本文件
   - 支持 `.txt` 格式，每行一个关键词

3. **分组管理**
   - 创建关键词分组
   - 将相关关键词归类管理
   - 支持分组启用/禁用

#### 关键词格式
```
# 支持的关键词格式
普通文字: 你好世界
数字: 123456
符号: @#$%
混合: Hello123世界
```

### 区域选择配置

#### 选择方法
1. **拖拽选择**
   - 点击"选择区域"按钮
   - 在屏幕上拖拽鼠标选择区域
   - 双击确认选择

2. **坐标输入**
   - 在设置中直接输入坐标
   - 格式：x1,y1,x2,y2
   - 例如：100,100,500,300

#### 区域优化建议
- **大小适中**: 选择适中的区域，避免过大或过小
- **文字清晰**: 选择文字清晰、对比度高的区域
- **避免遮挡**: 确保区域不被其他窗口遮挡
- **稳定区域**: 选择内容相对稳定的区域

### 通知配置

#### 桌面通知
```json
{
  "启用通知": true,
  "通知持续时间": 5000,
  "通知位置": "右下角",
  "通知声音": "默认提示音"
}
```

#### 声音提醒
- **提示音选择**: 选择系统提示音或自定义声音文件
- **音量控制**: 设置提示音音量
- **重复提醒**: 设置重复提醒次数和间隔

#### 邮件通知（高级）
```json
{
  "SMTP服务器": "smtp.qq.com",
  "端口": 587,
  "用户名": "your_email@qq.com",
  "密码": "your_password",
  "收件人": "target@example.com"
}
```

## 🔧 性能优化配置

### 系统资源优化

#### 内存管理
- **缓存大小**: 设置图像缓存大小（推荐100MB）
- **历史保留**: 设置历史记录保留天数（推荐30天）
- **自动清理**: 启用自动清理过期数据

#### CPU优化
- **线程数**: 设置工作线程数（推荐CPU核心数）
- **优先级**: 设置程序进程优先级
- **节能模式**: 在系统空闲时降低CPU使用率

### 网络优化

#### 连接设置
- **超时时间**: 设置API调用超时时间（推荐10秒）
- **重试次数**: 设置失败重试次数（推荐3次）
- **并发数**: 限制同时进行的API调用数

#### 代理配置
```json
{
  "HTTP代理": "http://proxy.example.com:8080",
  "HTTPS代理": "https://proxy.example.com:8080",
  "SOCKS代理": "socks5://proxy.example.com:1080",
  "认证": {
    "用户名": "proxy_user",
    "密码": "proxy_password"
  }
}
```

## 🛡️ 安全配置

### 数据安全

#### 加密设置
- **配置加密**: 启用配置文件加密
- **日志脱敏**: 启用敏感信息脱敏
- **数据备份**: 设置自动备份策略

#### 访问控制
- **启动密码**: 设置程序启动密码
- **功能权限**: 设置不同功能的访问权限
- **会话超时**: 设置会话超时时间

### 隐私保护

#### 数据收集
- **匿名统计**: 选择是否参与匿名使用统计
- **错误报告**: 选择是否自动发送错误报告
- **性能数据**: 选择是否收集性能数据

## 📊 监控配置

### 状态监控

#### 系统状态
- **CPU使用率**: 监控CPU使用情况
- **内存使用**: 监控内存使用情况
- **网络状态**: 监控网络连接状态
- **磁盘空间**: 监控磁盘使用情况

#### 识别状态
- **识别次数**: 统计识别总次数
- **成功率**: 计算识别成功率
- **平均耗时**: 计算平均识别耗时
- **错误统计**: 统计各种错误类型

### 告警设置

#### 性能告警
- **CPU告警**: CPU使用率超过80%时告警
- **内存告警**: 内存使用率超过90%时告警
- **网络告警**: 网络延迟超过5秒时告警

#### 功能告警
- **识别失败**: 连续识别失败超过10次时告警
- **API限制**: API调用频率受限时告警
- **存储空间**: 磁盘空间不足时告警

## 🔍 配置验证

### 功能测试
1. **API测试**: 测试所有配置的API密钥
2. **识别测试**: 测试OCR识别功能
3. **通知测试**: 测试各种通知方式
4. **快捷键测试**: 测试全局快捷键功能

### 性能测试
1. **响应时间**: 测试识别响应时间
2. **资源消耗**: 监控系统资源使用情况
3. **稳定性**: 长时间运行稳定性测试
4. **并发性**: 测试多任务并发处理能力

## 📝 配置备份

### 自动备份
- **定时备份**: 设置定期自动备份配置
- **增量备份**: 只备份变更的配置项
- **云端备份**: 将配置备份到云端存储

### 手动备份
1. **导出配置**: 使用配置导出功能
2. **文件备份**: 手动复制配置文件
3. **版本管理**: 为配置创建版本标签

### 恢复配置
1. **导入配置**: 从备份文件导入配置
2. **选择性恢复**: 只恢复部分配置项
3. **回滚版本**: 回滚到之前的配置版本

## 🆘 故障排除

### 常见问题
1. **配置丢失**: 检查配置文件是否存在
2. **权限问题**: 确保程序有必要的文件访问权限
3. **格式错误**: 检查配置文件格式是否正确
4. **版本兼容**: 确认配置版本与程序版本兼容

### 重置配置
如果配置出现严重问题，可以重置为默认配置：
1. 关闭程序
2. 删除配置文件
3. 重新启动程序
4. 重新进行配置

---

*配置完成后，建议阅读 [功能介绍](features.md) 了解更多高级功能。*
